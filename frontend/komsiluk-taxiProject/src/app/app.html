<app-navbar
  (menuClick)="toggleLeftSidebar()"
  (rightMenuClick)="toggleRightSidebar()"
  (filterClick)="toggleFilter()">
</app-navbar>

<app-leftsidebar [open]="isLeftSidebarOpen"></app-leftsidebar>
@if (rightOpen) {
  <div class="sidebar-backdrop" (click)="closeRightSidebar()"></div>
}
<app-rightsidebar [open]="rightOpen"></app-rightsidebar>

@if (filterSvc.open()) {
  <app-ride-history-filter-panel
    (filterApplied)="onFilterApplied($event)"
    (resetClicked)="onFilterReset()">
  </app-ride-history-filter-panel>
}

<router-outlet></router-outlet>
<app-toast></app-toast>

<app-confirm-booking-dialog
  [open]="confirmModal.isOpen()"
  [km]="confirmModal.vm()?.km ?? 0"
  [minutes]="confirmModal.vm()?.minutes ?? 0"
  [price]="confirmModal.vm()?.price ?? 0"
  (cancel)="confirmModal.close()"
  (confirm)="confirmModal.confirm()">
</app-confirm-booking-dialog>