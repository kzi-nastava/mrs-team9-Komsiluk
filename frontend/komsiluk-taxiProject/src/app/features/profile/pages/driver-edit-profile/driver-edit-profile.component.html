<div class="pe-screen">
  <div class="glass-panel glass-panel--ep driver-edit-panel">
    <div class="pe-title text-semibold">EDIT</div>

    <form class="pe-form pe-form--driver" [formGroup]="form" (ngSubmit)="save()" autocomplete="off">
      <!-- LEFT COLUMN (profile) -->
      <div class="pe-col">
        <label class="pe-field">
          <span class="pe-label text-semibold">Firstname</span>
          <input class="pe-input text-medium" type="text" formControlName="firstName" />
          @if (isInvalid('firstName')) {
            <div class="form-error">Minimum 2 letters. No numbers.</div>
          }
        </label>

        <label class="pe-field">
          <span class="pe-label text-semibold">Lastname</span>
          <input class="pe-input text-medium" type="text" formControlName="lastName" />
          @if (isInvalid('lastName')) {
            <div class="form-error">Minimum 2 letters. No numbers.</div>
          }
        </label>

        <label class="pe-field">
          <span class="pe-label text-semibold">Address (Street and number)</span>
          <input class="pe-input text-medium" type="text" formControlName="address" />
          @if (isInvalid('address')) {
            <div class="form-error">Address is required.</div>
          }
        </label>

        <label class="pe-field">
          <span class="pe-label text-semibold">City</span>
          <input class="pe-input text-medium" type="text" formControlName="city" />
          @if (isInvalid('city')) {
            <div class="form-error">City is required.</div>
          }
        </label>

        <label class="pe-field">
          <span class="pe-label text-semibold">Phone number</span>
          <input class="pe-input text-medium" type="text" formControlName="phone" />
          @if (isInvalid('phone')) {
            <div class="form-error">Use digits only (optionally +), 7–15 digits.</div>
          }
        </label>
      </div>

      <!-- RIGHT COLUMN (car) -->
      <div class="pe-col">
        <label class="pe-field">
          <span class="pe-label text-semibold">Model</span>
          <input class="pe-input text-medium" type="text" formControlName="model" />
          @if (isInvalid('model')) {
            <div class="form-error">Model is required.</div>
          }
        </label>

        <label class="pe-field">
          <span class="pe-label text-semibold">Type</span>
          <select class="pe-input text-medium" formControlName="type">
            <option>Standard</option>
            <option>Van</option>
            <option>Luxury</option>
          </select>
          @if (isInvalid('type')) {
            <div class="form-error">Type is required.</div>
          }
        </label>

        <label class="pe-field">
          <span class="pe-label text-semibold">License plate</span>
          <input class="pe-input text-medium" type="text" formControlName="licensePlate" />
          @if (isInvalid('licensePlate')) {
            <div class="form-error">Format must be: AA-123-AA (e.g. NS-111-AB).</div>
          }
        </label>

        <label class="pe-field">
          <span class="pe-label text-semibold">Number of seats</span>
          <input class="pe-input text-medium" type="text" formControlName="seats" />
          @if (isInvalid('seats')) {
            <div class="form-error">Seats must be a whole number (1–8).</div>
          }
        </label>

        <div class="pe-check-row">
          <label class="pe-check text-semibold">
            <input type="checkbox" formControlName="petFriendly" />
            <span>Pet friendly</span>
          </label>

          <label class="pe-check text-semibold">
            <input type="checkbox" formControlName="childSeatAvailable" />
            <span>Child seat available</span>
          </label>
        </div>
      </div>

      <!-- ACTIONS -->
      <div class="pe-actions pe-actions--center">
        <button type="button" class="btn btn--ghost text-semibold btn-scale" (click)="close()">
          Cancel
        </button>

        <button type="submit" class="btn btn--primary text-semibold btn-scale">
          Confirm
        </button>
      </div>
    </form>
  </div>
</div>
