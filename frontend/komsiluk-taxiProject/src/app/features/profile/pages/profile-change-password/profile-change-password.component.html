<div class="cp-screen">
  <div class="glass-panel glass-panel--cp">
    <div class="cp-title text-semibold">Change password</div>
    <div class="cp-line" aria-hidden="true"></div>

    <form class="cp-form" [formGroup]="form" (ngSubmit)="save()" autocomplete="off">

      <label class="cp-field">
        <span class="cp-label text-semibold">Current password</span>
        <input class="cp-input text-medium" type="password" formControlName="currentPassword" />
        @if (isInvalid('currentPassword')) {
          <div class="form-error">Current password is required.</div>
        }
      </label>

      <label class="cp-field">
        <span class="cp-label text-semibold">New password</span>
        <input class="cp-input text-medium" type="password" formControlName="password" />
        @if (isInvalid('password')) {
          <div class="form-error">Min 8 chars, at least 1 letter and 1 number.</div>
        }
      </label>

      <label class="cp-field">
        <span class="cp-label text-semibold">Repeat password</span>
        <input class="cp-input text-medium" type="password" formControlName="repeat" />
        @if (isInvalid('repeat')) {
          <div class="form-error">Repeat password is required.</div>
        }
        @if (mismatch()) {
          <div class="form-error">Passwords do not match.</div>
        }
      </label>

      <div class="btn-actions">
        <button type="button" class="btn btn--ghost btn-scale text-semibold" (click)="close()">Cancel</button>
        <button type="submit" class="btn btn--primary btn-scale text-semibold">Confirm</button>
      </div>
    </form>
  </div>
</div>